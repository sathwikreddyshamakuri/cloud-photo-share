# Cloud‑Photo‑Share

> A lightweight, JWT‑secured REST API for uploading, managing, and sharing photos in the cloud.

![CI](https://img.shields.io/badge/build-passing-brightgreen)

---

## Table of Contents
1. [Overview](#overview)
2. [Features](#features)
3. [Tech Stack](#tech-stack)
4. [Quick Start](#quick-start)
5. [Configuration](#configuration)
6. [Running Locally](#running-locally)
7. [API Reference](#api-reference)
8. [Development Workflow](#development-workflow)
9. [Contributing](#contributing)
10. [License](#license)

---

## Overview
Cloud‑Photo‑Share lets you and your friends upload photos to a secure cloud bucket, organize them into albums, and share public or private links—all via a clean JSON REST API.  Authentication is handled with JSON Web Tokens (JWT) so that every request is stateless and easy to scale.

## Features
- **User accounts & JWT auth** (`/auth/register`, `/auth/login`)
- **Photo upload & metadata extraction**  (filename, EXIF, dimensions)
- **Album CRUD**  (create, list, rename, delete)
- **Signed share links** that auto‑expire
- **Pagination & filtering** for large libraries
- **Continuous Integration** with GitHub Actions

## Tech Stack
| Layer             | Choices |
|-------------------|---------|
| **Language**      | Python 3.12 |
| **Web Framework** | FastAPI + Uvicorn |
| **Auth**          | PyJWT, Passlib (bcrypt) |
| **Database**      | SQLite (dev) / PostgreSQL (prod) |
| **Object Storage**| AWS S3 (compatible) |
| **Testing**       | Pytest |

## Quick Start
```bash
# 1. Clone & enter
$ git clone https://github.com/your‑handle/cloud-photo-share.git
$ cd cloud-photo-share

# 2. Create virtual env
$ python -m venv .venv && source .venv/Activate

# 3. Install deps
$ pip install -r requirements.txt

# 4. Run DB migrations (SQLite by default)
$ alembic upgrade head

# 5. Start API server
$ uvicorn app.main:app --reload
```
Navigate to `http://localhost:8000/docs` for the interactive Swagger UI.

## Configuration
Environment variables (put them in a `.env` file):

| Variable              | Example value                |
|-----------------------|------------------------------|
| `SECRET_KEY`          | `super‑secret‑jwt‑key`       |
| `DATABASE_URL`        | `postgresql://user:pw@db/db` |
| `S3_BUCKET`           | `photo‑share‑prod`           |
| `AWS_ACCESS_KEY_ID`   | `AKIA…`                      |
| `AWS_SECRET_ACCESS_KEY` | `wJalrXUtnFEMI…`            |
| `TOKEN_EXPIRE_MINUTES`| `60`                         |

## Running Locally
1. Make sure you have [Python 3.12+](https://www.python.org/) installed.
2. Copy `.env.example` → `.env` and fill in your secrets.
3. Execute `uvicorn app.main:app --reload`.
4. Run tests with `pytest -q` (CI expects all tests to pass).

## API Reference (selected)
| Method | Endpoint              | Description                     |
|--------|-----------------------|---------------------------------|
| `POST` | `/auth/register`      | Create a new user               |
| `POST` | `/auth/login`         | Obtain JWT access+refresh tokens|
| `GET`  | `/photos/`            | List user’s photos              |
| `POST` | `/photos/`            | Upload a photo (multipart)      |
| `GET`  | `/albums/`            | List albums                     |
| `POST` | `/albums/`            | Create album                    |
| `POST` | `/share/{photo_id}`   | Generate signed share link      |

Full autogenerated docs are available at `/docs` (Swagger) and `/redoc`.

## Development Workflow
```bash
# Lint
$ ruff .

# Type‑check
$ mypy app/

# Run tests
$ pytest -q

# Commit & push
$ git add … && git commit -m "feat: Awesome thing" && git push
```
Your CI workflow (`.github/workflows/ci.yml`) will install deps, run linters, type checks, and tests.

## Contributing
Pull requests are welcome!  Please open an issue first to discuss what you’d like to change.  Make sure to:  
1. Fork the repo & create your branch (`git checkout -b feature/foo`).  
2. Commit your changes (`git commit -am 'Add foo'`).  
3. Push to the branch (`git push origin feature/foo`).  
4. Open a Pull Request.

## License
Distributed under the MIT License. See `LICENSE` for more information.
