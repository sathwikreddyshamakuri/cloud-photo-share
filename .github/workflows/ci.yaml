name: CI

on:
  # Run once for PRs targeting main
  pull_request:
    branches: [main]

  # Run on direct pushes to main (e.g., after merging)
  push:
    branches: [main]

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
